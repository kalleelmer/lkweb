<div class="container">
	<h1>{{show.name}}</h1>
	<div class="row">
		<div class="col-md-8">
			<h2>Biljetter och priser</h2>
			<table class="table table-bordered">
				<thead>
					<tr>
						<th><i class="fa fa-user-plus fa-lg clickable left"
							ng-click="addRate()" title="Lägg till biljettyp"></i> <i
							class="fa fa-plus fa-lg clickable right" ng-click="addCategory()"
							title="Lägg till platstyp"></i></th>
						<th ng-repeat="category in show.categories">{{category.name}}</th>
					</tr>
				</thead>
				<tbody>

					<tr ng-repeat="(i, rate) in show.rates">
						<th scope="row">{{rate.name}}</th>
						<td ng-repeat="category in show.categories"><span
							editable-text="category.prices[rate.id].price"
							onbeforesave="setPrice(category.id, rate.id, $data)">{{category.prices[rate.id].price
								|| "X"}}</span></td>
					</tr>
				</tbody>
			</table>
		</div>
		<div class="col-md-4">
			<h2>Föreställningar</h2>
			<div class="list-group"
				ng-repeat="(date, performances) in show.dates">
				<div class="list-group-item active">
					<i class="fa fa-plus fa-lg clickable right"
						ng-click="addPerf(date)"></i> {{date | date : 'EEEE d MMMM yyyy'}}
				</div>
				<div class="list-group-item" ng-repeat="performance in performances">{{performance.start
					| timestamp | date : 'HH:mm'}}</div>
			</div>
			<form ng-submit="addDate()" class="input-group">
				<input required type="text" ng-model="newDate" class="form-control"
					placeholder="ÅÅÅÅ-MM-DD"> <span class="input-group-btn">
					<input type="submit" class="btn btn-primary" type="button"
					value="Lägg till" />
				</span>
			</form>
		</div>
	</div>

</div>
